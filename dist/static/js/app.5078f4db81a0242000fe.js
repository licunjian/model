webpackJsonp([1],{"991W":function(e,t){},FVuk:function(e,t){},NHnr:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("MVMM"),i={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]};var s=a("Z0/y")({name:"App"},i,!1,function(e){a("Umf0")},null,null).exports,o=a("zO6J"),r=a("HzJ8"),l=a.n(r),m={data:function(){return{form:{meetingTopic:"",meetingDate:"",value:"",sortJudge:!1,options:[{value:"",label:"全部",name:""},{value:"1",label:"编辑中",name:"editing"},{value:"2",label:"审批中",name:"approving"},{value:"3",label:"可用",name:"available"},{value:"4",label:"停用",name:"disable"},{value:"5",label:"驳回",name:"reject"}]},data:"",multipleSelection:[],params:{pageNo:"",pageSize:"",meetingTopic:"",meetingBeginDtStr:"",meetingStatusCode:""}}},mounted:function(){this.getList()},methods:{handleSelectionChange:function(e){this.multipleSelection=e,console.log(this.multipleSelection)},handleSizeChange:function(e){this.params.pageSize=e,this.getList()},handleCurrentChange:function(e){this.params.pageNo=e,this.getList()},sortChange:function(){0==this.sortJudge?this.params.orderType="asc":this.params.orderType="desc",this.params.sortOrder="meetingBeginDt",this.sortJudge=!this.sortJudge,this.getList()},getList:function(){var e=this;this.$http({url:this.requestUrl+"/meeting/ptMeetingInfo/ptListMeetingInfo",headers:{"Access-Control-Allow-origin":"*"},method:"post",responseType:"json",params:this.params}).then(function(t){t.data.resultMap.data&&(console.log(t.data),e.data=t.data.resultMap.data)}).catch(function(t){t.data&&e.$message.error(t.data.message)})},toAdd:function(){this.$router.push({path:"add"})},search:function(){this.params={},this.params.meetingTopic=this.form.meetingTopic,this.params.meetingBeginDtStr=this.form.meetingDate,this.params.meetingStatusCode=this.form.value,this.getList()},toDel:function(){var e=this;if(0==this.multipleSelection.length)this.$message.error("请选择要删除的行");else{var t="",a=!0,n=!1,i=void 0;try{for(var s,o=l()(this.multipleSelection);!(a=(s=o.next()).done);a=!0){var r=s.value;t+=r.meetingId+","}}catch(e){n=!0,i=e}finally{try{!a&&o.return&&o.return()}finally{if(n)throw i}}t=t.substring(0,t.length-1),this.$confirm("该操作将会删除文件，是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.$http({url:e.requestUrl+"/meeting/ptMeetingInfo/ptDeleteMeetingInfo",headers:{"Access-Control-Allow-origin":"*"},method:"post",responseType:"json",params:{ids:t}}).then(function(t){e.$message.success(t.data.message?t.data.message:"删除成功"),e.getList()}).catch(function(t){e.$message.error(t.data.message)})})}},toEdit:function(e,t,a,n){this.$router.push({name:"edit",params:{meetingId:e,appId:t,appOrgId:a,version:n}})},toDetail:function(e){this.$router.push({name:"detail",params:{meetingId:e}})}},filters:{date:function(e){var t=new Date(e);function a(e){return e<10?"0"+e:e}return t.getFullYear()+"-"+a(t.getMonth()+1)+"-"+a(t.getDate())+" "+a(t.getHours())+":"+a(t.getMinutes())},status:function(e){switch(e){case"approving":return"审批中";case"available":return"可用";case"disable":return"停用";case"editing":return"编辑中";case"reject":return"驳回";default:return""}}}},c={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-form",{ref:"form",attrs:{model:e.form,inline:!0,size:"small"}},[a("el-form-item",{attrs:{label:"会议主题："}},[a("el-input",{staticClass:"width180",model:{value:e.form.meetingTopic,callback:function(t){e.$set(e.form,"meetingTopic",t)},expression:"form.meetingTopic"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"会议状态："}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.value,callback:function(t){e.$set(e.form,"value",t)},expression:"form.value"}},e._l(e.form.options,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.name}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"开会时间："}},[a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期","value-format":"yyyy-MM-dd"},model:{value:e.form.meetingDate,callback:function(t){e.$set(e.form,"meetingDate",t)},expression:"form.meetingDate"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.search}},[e._v("搜索")])],1)],1),e._v(" "),a("div",{staticClass:"fr"},[a("el-button",{attrs:{type:"primary",icon:"el-icon-plus",size:"medium"},on:{click:e.toAdd}},[e._v("添加")]),e._v(" "),a("el-button",{attrs:{type:"danger",icon:"el-icon-delete",size:"medium"},on:{click:e.toDel}},[e._v("删除")])],1),e._v(" "),a("div",{staticClass:"table"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:!e.data.viewList,expression:"data.viewList?false:true"}],staticStyle:{width:"100%"},attrs:{data:e.data.viewList,"tooltip-effect":"dark",border:"","element-loading-text":"加载中","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.8)"},on:{"selection-change":e.handleSelectionChange,"sort-change":function(t){e.sortChange()}}},[a("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{type:"index",label:"序号",width:"55",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"meetingTopic",label:"会议主题"}}),e._v(" "),a("el-table-column",{attrs:{prop:"meetingBeginDt.time",label:"开会时间",sortable:"custom"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.meetingBeginDt&&t.row.meetingBeginDt.time?a("span",[e._v(e._s(e._f("date")(t.row.meetingBeginDt.time)))]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"会议内容","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.contentStr?t.row.contentStr:"暂无数据"))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"会议状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e._f("status")(t.row.meetingStatusCode)))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"small",type:"primary",icon:"el-icon-edit-outline"},on:{click:function(a){e.toEdit(t.row.meetingId,t.row.appId,t.row.appOrgId,t.row.version)}}},[e._v("编辑")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"primary",icon:"el-icon-more"},on:{click:function(a){e.toDetail(t.row.meetingId)}}},[e._v("详情")])]}}])})],1)],1),e._v(" "),a("div",{staticClass:"paging"},[a("el-pagination",{attrs:{background:"","page-sizes":[10,20,30],"page-size":10,total:e.data.count,layout:"total, sizes, prev, pager, next, jumper"},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)},staticRenderFns:[]};var d=a("Z0/y")(m,c,!1,function(e){a("SQzl")},"data-v-6b7f8fb0",null).exports,u={data:function(){return{formData:{meetingTopic:"",meetingBeginDt:"",meetingEndDt:"",content:"",meetingStatusCode:"",localGps:"广州科学城总部经济区"},date:"",options:[{value:"",label:"全部",name:""},{value:"1",label:"编辑中",name:"editing"},{value:"2",label:"审批中",name:"approving"},{value:"3",label:"可用",name:"available"},{value:"4",label:"停用",name:"disable"},{value:"5",label:"驳回",name:"reject"}],pickTime:{disabledDate:function(e){return e.getTime()<Date.now()}}}},methods:{submit:function(){var e=this;this.formData.meetingTopic?this.formData.content?this.date?this.formData.localGps?this.formData.meetingStatusCode?(this.formData.meetingBeginDt=this.date[0],this.formData.meetingEndDt=this.date[1],this.$http({url:this.requestUrl+"/meeting/ptMeetingInfo/ptAddMeetingInfo",headers:{"Access-Control-Allow-origin":"*"},method:"get",responseType:"json",params:this.formData}).then(function(t){t.data.data&&(e.$message.success("发布成功"),e.$router.push({path:"/list"}))}).catch(function(t){e.$message.error(t.data.message?t.data.message:"发布失败")})):this.$message.error("请选择会议状态"):this.$message.error("请选择会议地址"):this.$message.error("请选择开会时间"):this.$message.error("请输入会议内容"):this.$message.error("请输入会议主题")}}},p={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-form",{attrs:{"label-position":"right","label-width":"80px",model:e.formData,size:"small"}},[a("el-col",{attrs:{span:10}},[a("el-form-item",{attrs:{label:"会议主题"}},[a("el-input",{model:{value:e.formData.meetingTopic,callback:function(t){e.$set(e.formData,"meetingTopic",t)},expression:"formData.meetingTopic"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"会议内容"}},[a("el-input",{attrs:{type:"textarea",autosize:{minRows:3},resize:"none"},model:{value:e.formData.content,callback:function(t){e.$set(e.formData,"content",t)},expression:"formData.content"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"会议状态"}},[a("el-select",{staticClass:"width100",attrs:{placeholder:"请选择"},model:{value:e.formData.meetingStatusCode,callback:function(t){e.$set(e.formData,"meetingStatusCode",t)},expression:"formData.meetingStatusCode"}},e._l(e.options,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.name}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"开会时间"}},[a("el-date-picker",{staticClass:"width100",attrs:{"value-format":"yyyy-MM-dd HH:mm:ss",type:"datetimerange","start-placeholder":"开会时间","end-placeholder":"结会时间","picker-options":e.pickTime},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"会议地址"}},[a("el-input",{model:{value:e.formData.localGps,callback:function(t){e.$set(e.formData,"localGps",t)},expression:"formData.localGps"}})],1),e._v(" "),a("el-button",{staticClass:"ml80",attrs:{type:"primary",size:"medium"},on:{click:e.submit}},[e._v("发布")])],1)],1)],1)},staticRenderFns:[]};var g=a("Z0/y")(u,p,!1,function(e){a("QMP+")},"data-v-bd725852",null).exports,f={data:function(){return{data:""}},components:{},mounted:function(){var e=this;this.$http({url:this.requestUrl+"/meeting/ptMeetingInfo/ptGetMeetingInfo",headers:{"Access-Control-Allow-origin":"*"},method:"post",responseType:"json",params:{meetingId:this.$route.params.meetingId}}).then(function(t){console.log(t.data),e.data=t.data.data}).catch(function(t){e.$message.error(t.data.message)})}},h={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/list"}}},[e._v("列表")]),e._v(" "),a("el-breadcrumb-item",[e._v("详情")])],1),e._v(" "),a("div",[a("el-col",{attrs:{span:16}},[a("ul",{staticClass:"detail-list"},[a("li",[a("span",[e._v("会议ID：")]),e._v(e._s(e.data.meetingId))]),e._v(" "),a("li",[a("span",[e._v("会议主题：")]),e._v(e._s(e.data.meetingTopic))]),e._v(" "),a("li",[a("span",[e._v("开会时间：")]),e._v(e._s(e.data.meetingBeginDtStr))]),e._v(" "),a("li",[a("span",[e._v("结会时间：")]),e._v(e._s(e.data.meetingEndDtStr))]),e._v(" "),a("li",[a("span",[e._v("会议状态：")]),e._v(e._s(e.data.meetingStatusCode))]),e._v(" "),a("li",[a("span",[e._v("会议地址：")]),e._v(e._s(e.data.localGps))]),e._v(" "),a("li",{staticClass:"content"},[a("span",[e._v("会议内容：")]),e._v(e._s(e.data.content))])])])],1)],1)},staticRenderFns:[]};var v=a("Z0/y")(f,h,!1,function(e){a("Rdge")},"data-v-e0d6fa0c",null).exports,b={data:function(){return{data:"",formData:{meetingTopic:"",meetingBeginDt:"",meetingEndDt:"",content:"",meetingStatusCode:"",localGps:"",meetingId:this.$route.params.meetingId,appId:this.$route.params.appId,appOrgId:this.$route.params.appOrgId,version:this.$route.params.version},date:["",""],options:[{value:"",label:"全部",name:""},{value:"1",label:"编辑中",name:"editing"},{value:"2",label:"审批中",name:"approving"},{value:"3",label:"可用",name:"available"},{value:"4",label:"停用",name:"disable"},{value:"5",label:"驳回",name:"reject"}],pickTime:{disabledDate:function(e){return e.getTime()<Date.now()}}}},components:{},mounted:function(){var e=this;this.$http({url:this.requestUrl+"/meeting/ptMeetingInfo/ptGetMeetingInfo",headers:{"Access-Control-Allow-origin":"*"},method:"post",responseType:"json",params:{meetingId:this.$route.params.meetingId}}).then(function(t){var a=t.data.data;e.data=a,e.formData.meetingTopic=a.meetingTopic,e.formData.content=a.content,e.formData.meetingStatusCode=a.meetingStatusCode;var n=a.meetingBeginDt,i=a.meetingEndDt;e.date=[new Date(n.year+1900,n.month,n.date,n.hours,n.minutes,n.seconds),new Date(i.year+1900,i.month,i.date,i.hours,i.minutes,n.seconds)],e.formData.localGps=a.localGps}).catch(function(t){e.$message.error(t.data.message)})},methods:{submit:function(){var e=this;this.formData.meetingTopic?this.formData.content?this.date?this.formData.localGps?this.formData.meetingStatusCode?(this.formData.meetingBeginDt=this.date[0],this.formData.meetingEndDt=this.date[1],new Date(this.date[0]).getTime()==this.data.meetingBeginDt.time&&new Date(this.date[1]).getTime()!==this.data.meetingEndDt.time?this.formData.meetingBeginDt=this.data.meetingBeginDtStr+":00":new Date(this.date[1]).getTime()==this.data.meetingEndDt.time&&new Date(this.date[0]).getTime()!==this.data.meetingBeginDt.time?this.formData.meetingEndDt=this.data.meetingEndDtStr+":00":new Date(this.date[0]).getTime()==this.data.meetingBeginDt.time&&new Date(this.date[1]).getTime()==this.data.meetingEndDt.time&&(this.formData.meetingBeginDt=this.data.meetingBeginDtStr+":00",this.formData.meetingEndDt=this.data.meetingEndDtStr+":00"),this.$http({url:this.requestUrl+"/meeting/ptMeetingInfo/ptUpdateMeetingInfo",headers:{"Access-Control-Allow-origin":"*"},method:"post",responseType:"json",params:this.formData}).then(function(t){console.log(t.data),e.$router.push({name:"list"})}).catch(function(t){e.$message.error(t.data.message)})):this.$message.error("请选择会议状态"):this.$message.error("请选择会议地址"):this.$message.error("请选择开会时间"):this.$message.error("请输入会议内容"):this.$message.error("请输入会议主题")}}},D={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/list"}}},[e._v("列表")]),e._v(" "),a("el-breadcrumb-item",[e._v("编辑")])],1),e._v(" "),a("div",{staticClass:"form-table"},[a("el-form",{attrs:{"label-position":"right","label-width":"80px",model:e.formData,size:"small"}},[a("el-col",{attrs:{span:10}},[a("el-form-item",{attrs:{label:"会议主题"}},[a("el-input",{model:{value:e.formData.meetingTopic,callback:function(t){e.$set(e.formData,"meetingTopic",t)},expression:"formData.meetingTopic"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"会议内容"}},[a("el-input",{attrs:{type:"textarea",autosize:{minRows:3},resize:"none"},model:{value:e.formData.content,callback:function(t){e.$set(e.formData,"content",t)},expression:"formData.content"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"会议状态"}},[a("el-select",{staticClass:"width100",attrs:{placeholder:"请选择"},model:{value:e.formData.meetingStatusCode,callback:function(t){e.$set(e.formData,"meetingStatusCode",t)},expression:"formData.meetingStatusCode"}},e._l(e.options,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.name}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"开会时间"}},[a("el-date-picker",{staticClass:"width100",attrs:{"value-format":"yyyy-MM-dd HH:mm:ss",type:"datetimerange","start-placeholder":"开会时间","end-placeholder":"结会时间","picker-options":e.pickTime},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"会议地址"}},[a("el-input",{model:{value:e.formData.localGps,callback:function(t){e.$set(e.formData,"localGps",t)},expression:"formData.localGps"}})],1),e._v(" "),a("el-button",{staticClass:"ml80",attrs:{type:"primary",size:"medium"},on:{click:e.submit}},[e._v("保存")])],1)],1)],1)],1)},staticRenderFns:[]};var _=a("Z0/y")(b,D,!1,function(e){a("UWmn")},"data-v-b47e96f0",null).exports;n.default.use(o.a);var y=new o.a({routes:[{path:"/",redirect:"/list"},{path:"/list",name:"list",component:d},{path:"/add",name:"add",component:g},{path:"/detail/:meetingId",name:"detail",component:v},{path:"/edit/:meetingId/:appId/:appOrgId/:version",name:"edit",component:_}]}),w=a("jPwE"),$=a.n(w),C=a("aozt"),S=a.n(C);a("FVuk"),a("991W");n.default.prototype.$http=S.a,n.default.prototype.requestUrl="http://192.168.10.174:8200/system",n.default.use($.a),n.default.config.productionTip=!1,new n.default({el:"#app",router:y,components:{App:s},template:"<App/>"})},"QMP+":function(e,t){},Rdge:function(e,t){},SQzl:function(e,t){},UWmn:function(e,t){},Umf0:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.5078f4db81a0242000fe.js.map